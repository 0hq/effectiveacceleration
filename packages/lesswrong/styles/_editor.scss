// .document-edit and .document-new are auto-generated by SmartForm, so not
// actually unused. TODO: JSS-ify that invocation of SmartForm.
.posts-edit-form, .posts-new-form {
    width:672px;
    margin:0 auto;

    @include mui-breakpoint-xs {
        width:100%;
    }

    .document-edit .posts-delete-link {
        bottom:6px;
        left:0;
        @include mui-breakpoint-xs {
          bottom:56px;
          width:100px;
        }
    }

    .commentEditor {
        margin-bottom:30px;
        border-bottom:solid 1px $light-grey;
    }

    .document-edit .input-draft,
    .document-new .input-draft,
    .document-edit .input-frontpage,
    .document-new .input-frontpage {
        margin:0;
        @include mui-breakpoint-xs {
            width:125px;
        }

        .form-group.row {
            margin-bottom:0;
        }

        .checkbox {
            width:150px;
            margin:0 0 6px 0;
            @include mui-breakpoint-xs {
                width:150px;
            }
        }
    }
    .document-new .input-frontpage .checkbox {
      margin-bottom: 12px;
    }
    .document-new .input-draft .checkbox {
      margin-bottom: 12px;
    }

    .document-edit .input-draft,
    .document-new .input-draft {
        right:115px;
        width:125px;
        @include mui-breakpoint-xs {
          bottom:50px;
          right:0px;
          width:100px;

          .checkbox {
              width:100px;
          }
        }
    }

    .document-edit .input-frontpage,
    .document-new .input-frontpage {
        right:255px;
        width:150px;
        @include mui-breakpoint-xs {
          bottom:50px;
          right:150px;
          width:100px;
        }
    }

    .document-edit > div > hr {
    // Ray Sept 2017:
    // This hack is necessary because SmartForm automatically includes an <hr/> tag in the "delete" menu:
    // path: /packages/vulcan-forms/lib/Form.jsx
        display:none;
    }

    .form-submit {
        text-align: right;
    }

    .commentEditor .content-body {
        padding:0 18px;
    }
}

// TODO: Consider taking ownership of the CSS of these draft-js plugins
@import '../../node_modules/draft-js/dist/Draft.css';
@import '../../node_modules/draft-js-inline-toolbar-plugin/lib/plugin.css';
@import '../../node_modules/draft-js-image-plugin/lib/plugin.css';
@import '../../node_modules/draft-js-alignment-plugin/lib/plugin.css';
@import '../../node_modules/draft-js-focus-plugin/lib/plugin.css';
@import '../../node_modules/draft-js-divider-plugin/lib/plugin.css';


//////////////////////////////////////////////////////////////////////////////
// TODO: Figure out how safe CSS referring to ory-editor and slatejs (editors
// that we migrated away from) are to delete, given that some classnames may
// have ended up inside posts that were written with those editors.
//
// Preventing material bootstrap from duplicating decorative elements on the
// input elements
.ory-toolbar-drawer {
  input {
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
  }
}

.ory-dimensions {
  input {
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
  }
}

.ory-prevent-blur {
  input {
    box-shadow: none !important;
    -webkit-box-shadow: none !important;
  }
}

// Changing the location of the ory-toolbar buttons to work well with the
// Intercom button

.ory-controls-mode-toggle-control-group {
  padding: 13px !important;
  bottom: 75px !important;
}

.slate-h3-icon {
  padding:4px 0 1px 0 !important;
}
.ory-cell-inner.ory-cell-leaf {
  @include max-small {
    > div > div > div > div {
      padding-left:0 !important;
      padding-top:0 !important;
      padding-bottom:0 !important;
    }

    button {
      width:20px !important;
      height:20px !important;
      margin:0 3px !important;
    }
  }
  @include max-small {
    > div > div > div > div {
      display:none !important;
    }
  }
}

//////////////////////////////////////////////////////////////////////////////

.editor {
  min-height: 220px;
  border-radius: 2px;
  margin-bottom: 2em;
}

.commentEditor {
  min-height: 80px;
}

// FIXME TODO: This CSS is unused/not being applied, but actually it should
// be--it would fix the click-target of the comment and post editors being
// really short.
.editor :global(.public-DraftEditor-content) {
  min-height: 140px;
}
.public-DraftStyleDefault-unorderedListItem div,
.public-DraftStyleDefault-orderedListItem div {
  margin:0;
}


.editor blockquote div, .editor blockquote span {
  margin:0;
}

// Editor clearfix
// TODO: This is a hideous hack
figure:after {
  content: "Foo";
  visibility: hidden;
  display: block;
  height: 0px;
  clear: both;
}

.draft-image {
  display: block;
  &.center {
    margin-left: auto;
    margin-right: auto;
  }
  &.right {
    float: right;
  }
}


//Hotfix for inline-Toolbar alignment TODO: Fix this in a more systematic way

.form-component-CommentEditor {
  position: static !important;
}

.comments-new-form {
  position: static !important;
}

.image-form-invalid {
  color: #e65757;
}

.image-form {
  height: 34px;
  width: 220px;
  padding: 0 12px;
  font-size: 15px;
  font-family: inherit;
  background-color: transparent;
  border: none;
  color: #444;
}

.content-editor-is-empty:before {
    content: "Write here. Select text for formatting options.\A
    You can switch to a markdown editor in your user settings.\A
    We support LaTeX! (Ctrl-4 for inline, Ctrl-M for block-level).";
    max-width: 540px;
    white-space: pre;
    position: absolute;
    color: rgba(0,0,0,0.55);
    font-weight: 200;
}

.form-component-EditorFormComponent {
  position: static !important;
}

// Divider plugin styles

.dividerBlock {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  margin: 32px 0;
  border: none; /* strip default hr styling */
  text-align: center;
}

.dividerBlock::after {
  margin-left: 12px;
  color: rgba(0, 0, 0, 0.26); /* pick a color */
  font-size: 1rem;
  letter-spacing: 12px; /* increase space between dots */
  content: '•••';
}

.posts-new-form .alignment-checkbox-wrapper,
.posts-edit-form .alignment-checkbox-wrapper {
  margin-left:18px;

  .alignment-checkbox-warning {
    display:none;
  }
}
